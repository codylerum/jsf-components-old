<?xml version="1.0" encoding="UTF-8"?>
<cdk:root xmlns="http://jboss.org/schema/richfaces/cdk/xhtml-el"
	xmlns:cdk="http://jboss.org/schema/richfaces/cdk/core" xmlns:c="http://jboss.org/schema/richfaces/cdk/jstl/core"
	xmlns:cc="http://jboss.org/schema/richfaces/cdk/jsf/composite"
	xmlns:javaee="http://java.sun.com/xml/ns/javaee">

	<cc:interface>
		<cdk:class>co.cfly.jsf.renderkit.CopyRenderer</cdk:class>
		<cdk:superclass>co.cfly.jsf.renderkit.CopyRendererBase</cdk:superclass>
		<cdk:renderer-type>co.cfly.jsf.copy</cdk:renderer-type>
	</cc:interface>

	<cc:implementation>
			<button id="#{clientId}" type="button" cdk:passThroughWithExclusions="id,styleClass,class" data-clipboard-text="#{component.attributes['value']}"
				class="clipboard-copy-div #{component.attributes['styleClass']}">#{component.attributes['copyText']}</button>
		<script type="text/javascript">
			if(clip == null) {
				ZeroClipboard.setMoviePath("#{facesContext.externalContext.requestContextPath}/javax.faces.resource/ZeroClipboard.swf.jsf?ln=co.cfly.jsf");
				var clip = new ZeroClipboard.Client();
				window.onresize = function () { clip.reposition();}
			}
			clip.glue(fixId('#{clientId}'));
			clip.on( 'complete', function(clip, args) {
			$('.clipboard-copy-div').text('#{component.attributes['copyText']}');
			$(this).text('#{component.attributes['copiedText']}'); } );
		</script>
	</cc:implementation>

</cdk:root>